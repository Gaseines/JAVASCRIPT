<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../styles_anotacoes/style_banco.css">
    <title>Banco de Dados anotações</title>
</head>

<body>
    <div class="mysql padrao_listas">
        <div class="definicoes">
            <h1 class="titulo">Definições dos Comandos</h1>

            <h2 class="titulo">DDL (Data Definition Language)</h2>
            <p class="padrao padrao ddl">CREATE DATABASE</p>
            <p class="padrao ddl">CREATE TABLE</p>
            <p class="padrao ddl">ALTER TABLE</p>
            <p class="padrao ddl">DROP TABLE</p>

            <h2 class="titulo">DML (Data Manipulation Language)</h2>
            <p class="padrao ddl">INSERT INTO</p>
            <p class="padrao ddl">UPDATE</p>
            <p class="padrao ddl">DELETE</p>
            <p class="padrao ddl">TRUNCATE</p>

            <h2 class="titulo">DQL (Data Query Language)</h2>
            <p class="padrao ddl">SELECT</p>

        </div>
        <div class="anotacoes">
            <h1 class="titulo">MySQL</h1>
            <h1 class="titulo">Anonotações</h1>
            <p class="comandos padrao"><b class="ddl">CREATE DATABASE</b> <b class="name">"nome do banco de dados"</b>
            </p>
            <p class="descricao padrao">Criar banco de dados</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SHOW CREATE TABLE </b> <b class="name">"nome da tabela criada"</b>
            </p>
            <p class="descricao padrao">Mostra o comando que foi usado para criar essa tabela</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SHOW CREATE DATABASE </b> <b class="name">"nome do banco de dados
                    criada"</b></p>
            <p class="descricao padrao">Mostra o comando que foi usado para criar esse banco de dados</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">ALTER TABLE</b> <b class="name">"nome da tabela"</b></p>

            <p class="comandos padrao"><b class="ddl">ADD FOREING KEY</b> <b class="name">"nome da chave
                    estrangeira"</b></p>
            <p class="comandos padrao"><b class="ddl">REFERENCES </b><b class="name">"nome do banco de referencia(coluna
                    de referencia para chave estrangeira)" <br></b></p>

            <p class="descricao padrao">Chave estrangeira <br> <a
                    href="https://youtu.be/paZNDJAPT4E?t=858">Explicação</a>
                <hr>

            <p class="ddl padrao">PRIMARY KEY</p>
            <p class="descricao padrao">Chave Primaria</p>
            <hr>


            <h2 class="titulo">Banco de Dados</h2>

            <p class="comandos padrao"><b class="ddl">DESCRIBE</b> "nome da tabela"</p>
            <p class="padrao">ou</p>
            <p class="comandos padrao"><b class="ddl">DESC</b> "nome da tabela"</p>
            <p class="descricao padrao">descrever tabela</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">DROP DATABASE</b> "nome do banco de dados"</p>
            <p class="descricao padrao">deleta o banco de dados</p>
            <hr>



            <h2 class="titulo">Tabelas</h2>

            <p class="comandos padrao"><b class="ddl">CREATE TABLE IT NOT EXISTS</b> <b class="name">"nome da
                    tabela"</b>(dados)</p>
            <p class="descricao padrao">Criar tabela. O "it not exist" serve para caso exista outra tabela com o mesmo
                nome, ele não duplica a tabela</p>
            <hr>


            <p class="comandos padrao"><b class="ddl">DROP TABLE</b> <b class="name">"nome da tabela"</b></p>
            <p class="descricao padrao">deleta a tabela</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">INSERT INTO</b> <b class="name">"nome da tabela"</b> <b
                    class="ddl">VALUE</b> (DADOS)</p>
            <p class="descricao padrao">insere na tabela os dados</p>
            <hr>

            <h3 class="titulo">ALTER TABLE</h3>

            <p class="comandos padrao"><b class="ddl">ALTER TABLE</b> <b class="name">"nome da tabela"</b></p>

            <p class="comandos padrao"><b class="ddl">ADD COLUMN</b> <b class="name">"nome da coluna"</b> <b
                    class="ddl">varchar(20) after </b><b class="name">"nome da segunda coluna"</b></p>

            <p class="descricao padrao">adiciona uma nova coluna, se estiver sem nada vai para ultima coluna, se tiver
                <b class="ddl">after</b> é adicionado após a coluna informada, e se tiver <b class="ddl">first </b>é
                adicionado na primeira coluna</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">DROP COLUMN</b> <b class="name">"nome da coluna"</b> </p>

            <p class="descricao padrao">deleta a coluna</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">ALTER TABLE</b> <b class="name">"nome da tabela"</b></p>

            <p class="comandos padrao"><b class="ddl">MODIFY COLUMN</b> <b class="name">"nome da coluna"</b> <b
                    class="ddl">varchar(30) </b> </p>

            <p class="descricao padrao">modifica o tipo da coluna, nesse caso para varchar (30)</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">ALTER TABLE</b> <b class="name">"nome da tabela"</b></p>

            <p class="comandos padrao"><b class="ddl">CHANGE COLUMN</b> <b class="name">"nome da coluna" "novo nome da
                    coluna" varchar(20)</b></p>

            <p class="descricao padrao">modifica o nome da coluna. Lembrar de sempre colocar o tipo novamente</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">ALTER TABLE</b> <b class="name">"nome da tabela"</b></p>

            <p class="comandos padrao"><b class="ddl">RENAME TO</b> <b class="name">"novo nome da tabela" </b></p>

            <p class="descricao padrao">modifica o nome da tabela.</p>
            <hr>

            <h2 class="titulo">Modificando Linhas</h2>

            <p class="comandos padrao"><b class="ddl">UPDATE </b><b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">SET </b>"coluna que você quer alterar" = <b
                    class="name">"alteração"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE </b>"coluna base (geralmente usado o id)" = <b
                    class="name">"dado da coluna base (nesse caso o id da linha)"</b></p>
            <p class="descricao padrao">Modifica dado da linha, se quiser alterar mais de uma, só colocar a virgula. Se
                colocar <b class="ddl">LIMIT </b> <b class="name">1</b> na ultima linha, o comando será limitado a uma
                linha só</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">DELETE FROM </b><b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE </b>"coluna base (geralmente usado o id)" = <b
                    class="name">"dado da coluna base (nesse caso o id da linha)"</b></p>
            <p class="descricao padrao">Deleta a linha</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">TRUNCATE TABLE </b><b class="name">"nome da tabela"</b></p>
            <p class="descricao padrao">Deleta TODOS OS DADOS DA TABELA</p>
            <hr>

            <h2 class="titulo">SELECT</h2>

            <p class="comandos padrao"><b class="ddl">SELECT * FROM</b> <b class="name">"nome da tabela"</b></p>
            <p class="descricao padrao">Mostra todas as colunas da tabela, o * quer dizer "todos"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT * FROM</b> <b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">Mostra todas as colunas da tabela usando a referência passada (se usar o nome,
                ele mostra a tabela na ordem dos nomes). Se colocar o parametro <b class="ddl">DESC</b> ele vai mostrar
                na ordem inversa</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT <b class="name">"nome da coluna"</b> FROM</b> <b
                    class="name">"nome da tabela"</b></p>
            <p class="descricao padrao">Mostra apenas aquela coluna específica, pode colocar mais de uma coluna </p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT * FROM</b> <b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">ano <= '2016' </b>
            </p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">Filtra da mesma forma na ordem que você quiser, mas o <b class="ddl">WHERE</b> é
                usado para filtrar pela linha, nesse caso ele pegaria os dados apenas menores ou iguais a 2016</p>
            <hr>

            <h4 class="titulo">Operadores lógicos do WHERE</h4>

            <p class="comandos padrao"><b class="ddl">SELECT nome, ano FROM</b> <b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">ano <b class="ddl">BETWEEN</b> 2016</b>
                <b class="ddl">AND</b> <b class="name">2018</b></p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">Retornará as informações entre os anos 2016 e 2018</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT nome, ano FROM</b> <b class="name">"nome da tabela"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">ano <b class="ddl">IN</b> (2016,
                    2020)</b></p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">Retornará as informações que existem apenas nos anos de 2016 e 2018</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT nome FROM</b> <b class="name">"veiculos"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">portas > 2 </b> <b class="ddl">AND</b>
                <b class="name">rodas = 4</b></p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">Retornará todos os veículos com mais de 2 portas que tenham 4 rodas</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT nome FROM</b> <b class="name">"veiculos"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">portas > 2 </b> <b class="ddl">OR</b> <b
                    class="name">rodas = 4</b></p>
            <p class="comandos padrao"><b class="ddl">ORDER BY</b> <b class="name">"nome da coluna que é usada como
                    parâmetro"</b></p>
            <p class="descricao padrao">(quase a mesma coisa) Retornará todos os veículos com mais de 2 portas OU que
                tenham 4 rodas</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT * FROM</b> <b class="name">"cursos"</b></p>
            <p class="comandos padrao"><b class="ddl">WHERE</b> <b class="name">nome</b> <b class="ddl">LIKE</b> <b
                    class="name">'PH%P_'</b></p>
            <p class="descricao padrao">Seleciona todos os registros da tabela "cursos" onde o valor na coluna nome
                começa com "PH", seguido de qualquer número de caracteres, seguido por "P", e terminando com exatamente
                um caractere.</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT DISTINCT</b> <b class="name">nacionalidade</b><b
                    class="ddl"> FROM</b><b class="name"> alunos</b></p>
            <p class="descricao padrao">Retorna uma lista de nacionalidades únicas presentes na coluna nacionalidade,
                removendo quaisquer duplicidade</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT COUNT(*)</b><b class="ddl"> FROM</b><b class="name">
                    carros</b></p>
            <p class="padrao"><b class="ddl">WHERE</b> <b class="name">marca = 'HONDA'</b></p>
            <p class="descricao padrao">Retorna quantos registros existem na tabela "carros" onde a coluna marca tem o
                valor "HONDA"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT MAX( <b class="name">idade</b> )</b><b class="ddl">
                    FROM</b><b class="name"> pessoas</b></p>
            <p class="descricao padrao">Retorna o valor máximo encontrado na coluna idade da tabela "pessoas"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT MIN( <b class="name">idade</b> )</b><b class="ddl">
                    FROM</b><b class="name"> pessoas</b></p>
            <p class="descricao padrao">Retorna o valor mínimo encontrado na coluna idade da tabela "pessoas"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT SUM( <b class="name">idade</b> )</b><b class="ddl">
                    FROM</b><b class="name"> pessoas</b></p>
            <p class="descricao padrao">Retorna o valor da soma da idade de todas as "pessoas"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT AVG( <b class="name">idade</b> )</b><b class="ddl">
                    FROM</b><b class="name"> pessoas</b></p>
            <p class="descricao padrao">Retorna a média da idade de todas as "pessoas"</p>
            <hr>

            <p class="comandos padrao"><b class="ddl">SELECT <b class="name">ano, </b>COUNT( <b class="name">*</b>
                    )</b><b class="ddl"> FROM</b><b class="name"> cursos</b></p>
            <p class="padrao"><b class="ddl">GROUP BY</b> <b class="name">ano</b></p>
            <p class="padrao"><b class="ddl">HAVING COUNT(*)</b><b class="name"> > 2</b></p>
            <p class="descricao padrao">Seleciona os anos e a contagem de cursos para cada ano na tabela "cursos",
                agrupando pelos anos e retornando apenas os anos que têm mais de 2 cursos</p>
            <hr>

            <h2 class="titulo">Join</h2>
            <p class="padrao"><a href="https://youtu.be/paZNDJAPT4E">Link da aula do Basico</a></p>

        </div>
        <div class="primitivos">
            <h1 class="titulo">Tipos Primitivos</h1>

            <h2 class="titulo">Numérico</h2>

            <p class="padrao subtitulo">Inteiro</p>
            <p class="padrao tipos">TinyInt, SmallInt, Int, MediumInt, BigInt</p>
            <p class="padrao">A diferença entre eles é a quantidade de bytes que vão armazenar no banco de dados</p>

            <p class="padrao subtitulo">Real</p>
            <p class="padrao tipos">Decimal, Float, Double, Real</p>
            <p class="padrao">A diferença entre eles é a quantidade de bytes que vão armazenar no banco de dados</p>

            <p class="padrao subtitulo">Lógico</p>
            <p class="padrao tipos">Bin, Boolean</p>
            <p class="padrao">Armazena "Sim" ou "não", "verdadeiro" ou "falso", "1" ou "0"</p>

            <h2 class="titulo">Data/Tempo</h2>

            <p class="padrao tipos">Date, DateTime, TimeStamp, Time, Year</p>
            <p class="padrao">Date = data <br>
                DateTime e TimeStamp = Data, hora e mais infos <br>
                Time = Horas <br>
                Year = Ano</p>

            <h2 class="titulo">Literal</h2>

            <p class="padrao subtitulo">Caractere</p>
            <p class="padrao tipos">Char, VarChar</p>
            <p class="padrao">Um é fixo e o outro varia a quantidade de letras</p>

            <p class="padrao subtitulo">Texto</p>
            <p class="padrao tipos">TinyText, Text, MediumText, LongText</p>
            <p class="padrao">A diferença é o tamanho do texto</p>

            <p class="padrao subtitulo">Binário</p>
            <p class="padrao tipos">TinyBlob, Blob, MediumBlob, LongBlob</p>
            <p class="padrao">Guarda qualquer coisa em binário, como uma imagem (nao recomendado)</p>

            <p class="padrao subtitulo">Coleção</p>
            <p class="padrao tipos">Enum, Set</p>
            <p class="padrao">Pode configurar quais são os valores permitidos, e no cadastro ele só vai aceitar esses
                valores</p>

            <p class="padrao subtitulo">Espacial</p>
            <p class="padrao tipos">Geometry, Point, Polygon, MultPoligon</p>
            <p class="padrao">Guarda informações sobre volumétricos</p>

            <h2 class="titulo">Outros</h2>
            <p class="padrao tipos">Unsigned</p>
            <p class="padrao">Pode ser aplicado a tipos numéricos. Ele indica que a coluna deve armazernar apenas
                valores não negativos (positivos e Zero)</p>
        </div>

    </div>
    <div class="mongodb padrao_listas">
        <div class="anotacoes">
            <h1 class="titulo">MongoDB</h1>
            <h1 class="titulo">Anotações</h1>
            <hr>

            <h2 class="titulo">Banco de Dados</h2>

            <h3 class="subtitulo">Mostra BD</h3>
            <p class="comandos padrao"><b class="ddl">show dbs</b></p>
            <p class="padrao descricao">Mostra todos os Banco de dados disponiveis</p>
            <hr>

            <h3 class="subtitulo">Cria BD</h3>
            <p class="comandos padrao"><b class="ddl">use nomeBancoDeDadod</b>
            <p class="descricao padrao">Cria banco de dados temporario, cria realmente apenas quando adiciona dados</p>
            <hr>

            <h2 class="titulo">Collections (Tabelas)</h2>

            <h3 class="titulo">CRUD</h3>

            <h3 class="subtitulo">Mostra Collections</h3>
            <p class="comandos padrao"><b class="ddl">show collections</b></p>
            <p class="descricao padrao">Mostra todas as collections existentes no BD</p>
            <hr>

            <h3 class="subtitulo">insere um dado</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.insertOne ({nome: "Gabriel", idade: 21,
                    empregado: true})</b></p>
            <p class="descricao padrao">Insere um unico dado na collection citada no comando, como se fosse um objeto em
                JS</p>
            <hr>

            <h3 class="subtitulo">insere varios dados</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.insertMany([ <br>
                    { nome: "Joao", idade: 40, profissao: "arquiteto", esta_empregado: false}, <br>
                    { nome: "Maria", idade: 23, profissao: "Professora", esta_empregada: true} <br>
                    ])</b></p>
            <p class="descricao padrao">Insere varios dados na collection citada no comando</p>
            <hr>

            <h3 class="subtitulo">Mostra dados da Collection</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.find({ nome: "Gabriel" })</b></p>
            <p class="descricao padrao">Mostra todos os dados da collection citada no comando. Os parametros são
                opcionais</p>
            <hr>

            <h3 class="subtitulo">Contagem de dados</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.find({ nome: "Gabriel" }).count()</b></p>
            <p class="descricao padrao">Conta quantos dados existem na tabela levando em consideração os parametros
                passados. Sem parametros ele retorna quantos dados tem no total na collection citada no comando</p>
            <hr>

            <h3 class="subtitulo">Edita ou adiciona(caso não tenha) um dado específico</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.updateOne({ nome: "Gabriel" }, {$set: { idade:
                    22 }})</b></p>
            <p class="descricao padrao">Edita ou adiciona o dado do item passado no primeiro parametro</p>
            <hr>

            <h3 class="subtitulo">Deleta apenas um dado da Collection</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.deleteOne({ nome: "Gabriel" })</b></p>
            <p class="descricao padrao">Deleta um dado apenas levando em consideração o parametro passado. Caso queira
                deletar mais de um dado com o mesmo parametro (não recomendado), usar o <b class="ddl">Many </b>no lugar
                do <b class="ddl">One</b></p>
            <hr>

            <h3 class="titulo">Operadores</h3>

            <h3 class="subtitulo">Maior que ou Menor que</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.find({ idade: { $gt: 20}})</b></p>
            <p class="descricao padrao">Mostra os valores maiores que 20 nesse caso. Para maior que, usa: <b
                    class="ddl">$gt</b> <br>
                Para maior ou igual que, usa: <b class="ddl">$gte</b> <br>
                Para menor que, usa: <b class="ddl">$lt</b> <br>
                Para menor ou igual que, usa: <b class="ddl">$lte</b> <br> </p>
            <hr>

            <h3 class="subtitulo">Edita dados usando os operadores</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.updateMany({ idade: { $gt: 20} }, { $set: {vip: true}})</b></p>
            <p class="descricao padrao">Todas as pessoas que tiverem mais q 20 anos vão receber Vip</p>
            <hr>

            <h3 class="subtitulo">Incrementar dados</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.updateMany({ nome: "Gabriel" }, { $inc: {salario: 2000}})</b></p>
            <p class="descricao padrao">Vai incrementar mais 2000 para o salario do Gabriel (Amém). Se caso queira tirar o valor, basta apenas colocar - na frente do valor ( -1000 )</p>
            <hr>

            <h3 class="subtitulo">Criar Index</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.createIndexes({"nome": 1})</b></p>
            <p class="descricao padrao">Cria um index no banco, nesse caso seria junto com o "nome", isso depende da pesquisa do seu site, se a pesquisa seria mais pelo nome, é melhor criar um index nele para que a pesquisa seja mais rapida</p>
            <hr>

            <h3 class="subtitulo">Verificar Indexes</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.getIndexes()</b></p>
            <p class="descricao padrao">Verifica quais indexes o banco possue</p>
            <hr>

            <h3 class="subtitulo">Deletar Index</h3>
            <p class="comandos padrao"><b class="ddl">db.nomeDaCollection.dropIndex("nome_1")</b></p>
            <p class="descricao padrao">Deleta o index colocado nas propriedades</p>
            <hr>



        </div>
        <div class="primitivos">
            <h1 class="titulo">Primitivos MongoDB</h1>
            <h2 class="subtitulo">Exemplo</h2>
            <p class="comandos padrao">db.nomeDaCollection.insertOne({<br>
                nome: "Luiza", <b class="descricao">String</b> <br>
                idade: 22, <b class="descricao">Number</b> <br>
                hobbies: ["Ler", "escrever", "tricotar"], <b class="descricao">Array</b> <br>
                esta_trabalhando: true, <b class="descricao">Boolean</b> <br>
                data_cadastro: new Date(), <b class="descricao">Data</b> <br>
                caracteristicas: {<br>
                    cor_dos_olhos: "o castanho mais lindo", <br>
                    altura: 1.58, <b class="descricao">Float</b> <br>
                    perfil: "Extrovertida"
                } <b class="descricao">Document</b> <br>
                })</p>
        </div>
    </div>
</body>

</html>